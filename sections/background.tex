\documentclass[../main2.tex]{subfiles}
%if compiling standalone, rootdir wil be previous folder,
%if compiling main document, rootdir will already be set by main file
\providecommand{\rootdir}{..}

\begin{document}

\section{Background}
\emph{In this background we first describe various lines of research on DDRC design since 1984 to get an overview of the different implementations that have been proposed. This is followed by a summary of more recent studies, outlining the differences between suggested design choices and their respective characteristics. In section \ref{sec:theory}, we}

The method of compressing the dynamic range of a digital signal is investigated in but a few publications. A majority of these are based on a feed-forward design with little modifications to the internal structure of the side-chain despite a quite extensive freedom in design choices leading to different characteristics.  In 2006, an investigation regarding the chasm in compressor design between academia and industry is carried out. But it is not until 2012 a formal comparison between the different design choices is carried out.

\FloatBarrier
\subsection{DDRC Design}
\subsubsection{Early Publications}
An early description of a digital dynamic range compressor is given in~\cite{mcnally1984dynamic}. The model, see Fig.~\ref{fig:block_mcnally}, consists of a feed-forward  design and the side-chain is composed of the following key components:
%================================
\begin{itemize}
\item{Level detector}
\item{Gain computer}
\item{Gain smoothing filter}
\end{itemize}
%================================
\begin{figure}
\subfile{\rootdir/figures/block_mcnally}
\caption{Block diagram of a feed-forward DDRC as described by McNally}
\label{fig:block_mcnally}
\end{figure}
%================================
Two level detectors are introduced, peak and RMS. These account, in part, for the dynamics of the compressor. The peak detector introduces two time constants, referred to as attack and release time whereas the RMS detector introduces one time averaging constant. The gain computer is responsible for the static behaviour of the compressor, where the desired amount of gain reduction is applied. Each time the signal passes through a non linear operation higher harmonics are introduced. McNally suggests that a last adaptive low pass filter should be introduced to smooth out the calculated gain to avoid distortion. In order for the compressor to be able to suppress sharp transients a delay is applied to the input signal. The gain reduction is thus applied time-shifted and compensates for the attack time due to the dynamics.

In~\cite{stikvoort1986digital} a similar feed-forward design is described. The side-chain is structured in the same way as presented by McNally, but Stikvoort chooses different time-behaviour by implementing higher-order filters to smooth out the signal, see block diagram in Fig \ref{fig:block_stikvoort}.
%============================
\begin{figure}
\caption{Block diagram of a feed-forward DDRC as described by E.F. Stikvoort}
\label{fig:block_stikvoort}
\end{figure}
%============================
TODO:
\begin{itemize}
\item Bendiksen 97 om vi f√•r tag i artikeln!
\item L. Lu 98
\item Reiss (the design that is proposed)
\end{itemize}
%============================
\subsection*{Literature}
In~\cite{zoe1997digital}~\cite{dafx02} the model introduced in ~\cite{mcnally1984dynamic} is thoroughly described. No modifications to the initial design is carried out, but in the latest editions,~\cite{zoelzer2005digital} ~\cite{dafx11}, a minor change in the peak detector is implemented, but not explained. This is discussed in section REEFFF.
%============================
\subsection{Comparisons of designs}
TODO:
\begin{itemize}
\item Abel 2003 - Comparing feed forward with feedback (peak and RMS) ratio dependent characteristic!
\item Fred Floru: Log = Lin
\end{itemize}
%============================
In \cite{bitzer2006parameter} the chasm between the few described digital compressor models in academic literature and the large variety of commercial products is investigated. It is shown that the commercial products do show similarities with the proposed model described in~\cite{mcnally1984dynamic}\cite{zolzer1997digital}\cite{dafx} although two of the investigated compressor algorithms calculate the gain reduction in the linear domain, likely to minimize computational load and all but one have slight deviation in the static and dynamic characteristics~\cite{bitzer2006parameter}. All tested compressors fall within an error margin of 1 dB, using the euclidean distance between the signals as metric.

In \cite{reiss2012tutorial} a thorough formal comparison between the different design choices is carried out, assuming feed-forward topology. Giannoulis et. al.  then presents a model as their recommended choice for compressor design, see Fig \ref{fig:block_giannoulis}.
\begin{figure}
\subfile{\rootdir/figures/block_giannoulis}
\caption{Block diagram of a feed-forward DDRC as described by Giannoulis et. al.}
\label{fig:block_giannoulis}
\end{figure}
There are some notable features regarding this design to account for. To begin with Giannoulis et. al. discard the use of a delay with no motivation. The authors assume this is due to real-time application. Furthermore, when having dynamics before the gain computer, a lag is introduced before the compressor kicks in, due to the time constants.The level detector, in the sense of the dynamic behaviour, is therefor placed after the gain computer. Since the human sense of hearing is roughly logarithmic~\cite{fastl2007psychoacoustics} Giannoulis et. al. suggests the placement of the smoothing filter to be in the logarithmic domain.
 \end{document}