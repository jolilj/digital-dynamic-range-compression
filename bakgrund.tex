\documentclass[]{article}
\usepackage{natbib}
\usepackage{tikz}
\usetikzlibrary{shapes,arrows}
\usepackage{textcomp}
\usepackage{pgfplots}
\usepackage[swedish,english]{babel}
\usepackage[utf8]{inputenc}

\begin{document}

\title{Digital dynamic range compression algorithm design att Klevgr√§nd Production AB}
\author{J. Lilja, O. Karlsson}
\date{2014-02-01}
\maketitle

\begin{abstract}
In this study/paper/report, we investigate...
\end{abstract}

\clearpage
\section{Introduction}
\section{Background}
\subsection{Dynamical range compression}
The dynamic range compressor is a complex nonlinear time dependent system where the the amplitude peaks of a signal is suppressed, reducing its dynamic range. The complexity of the system together with the vast set of design choices makes it difficult to draw a generic block diagram of the process\cite{giannoullis}  and thus we will, in the analysis, focus on a digital implementation corresponding to ideal components of it's analogue counterpart. 

In figure \ref{fig:xy-graph} the eligible behaviour of a simple compression process is illustrated. The x- and y-axis represents the logarithmic amplitude of input and output signal respectively. As the input signal rise above the threshold level, compression is applied. Logarithmic scale is used since sound amplitude is ,by standard, expressed in the logarithmic unit decibel.

\begin{figure}[ht]
\centering
\input{XY-graph}
\caption{Output signal plotted against input signal. When the input signal rise above the threshold level, compression is applied.} 
\label{fig:xy-graph}
\end{figure}

In application is is not desirable to apply instant compression since it introduces distortion\cite{giannoullis}. We thus want to smooth out the compression applied over time. This is illustrated in figure \ref{fig:envelope-graph}

\begin{figure}[ht]
\centering
\input{envelope}
\caption{Input signal plotted against time. The output is superimposed in the graph as a dashed line. When the input signal rise above the threshold level, compression is applied continously over time } 
\label{fig:envelope-graph}
\end{figure}


\subsection{Gain-reduction}
We begin our derivation of a block diagram for a generic compressor with the gain reduction step. This is where the signals amplitude is modified and it is achieved with a \emph{Voltage Controlled Amplifier} (VCA).

In the analog history of compressor design, various different circuit types have been implemented for this task (FET, optical circuits, tube amplifiers etc.), each with it's own characteristic. Modern solid state compressors that use integrated circuits for gain control is sometimes called \emph{VCA compressors}. In this paper however, we will use the term VCA as a generic term for any controllable amplifier.

\begin{figure}[ht]
\centering
\input{vca-generic-blockdiagram}
\caption{Block diagram of gain reduction step} 
\label{fig:vca-generic-blockdiagram}
\end{figure}

\subsubsection{Ideal VCA}
At least in a mathematical sense, an "ideal" VCA can be modeled as perfectly linear:
\begin{equation}
	y(t) = x(t) c_v
\end{equation}
where $y(t)$ is the output, $x(t)$ the input, and $c_v$ the control voltage.

\subsection{Feed-forward, feedback}
To compute the control voltage, we can choose to have an open loop/feed-forward design (figure \ref{fig:feedforward-blockdiagram}), or a closed loop/feedback design (figure \ref{fig:feedback-blockdiagram}). In analog compressor design this have implications for the amplitude range the components will have to handle, and also how well the gain computer can compensate for non-linearities in the VCA. This is not relevant to our digital implementation, but, as we will see in our derivation of the gain computer, it will affect the compression ratio possible to achieve.

\begin{figure}[ht]
\centering
\input{feedforward-blockdiagram}
\caption{Block diagram of feed forward design}
\label{fig:feedforward-blockdiagram}
\end{figure}

\begin{figure}[ht]
\centering
\input{feedback-blockdiagram}
\caption{Block diagram of feedback design} 
\label{fig:feedback-blockdiagram}
\end{figure}

\subsection{Gain computer}
\subsection{Peak detector}
So far, we have assumed that the gain computer acts on the input signal in a time-independent fashion. To make the compressor instead act on the \emph{envelope} of the input signal with the smooth behaviour depicted in figure \ref{fig:envelope-graph}, we introduce a \emph{peak detector} component.




\bibliographystyle{plain}
\bibliography{reflist}
\end{document}
