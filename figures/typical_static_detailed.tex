\documentclass[../main2.tex]{subfiles}
\pgfplotsset{compat = newest}
\begin{document}
\begin{tikzpicture}[scale=1,baseline={(0,0)}]

% AXES
% horizontal axis
\draw[->] (0,-1) -- (10,-1) node[anchor=north] {\scriptsize$X$};
% vertical axis
\draw[->] (0,-1) -- (0,7) node[anchor=east] {\scriptsize$Y(X)$};

% GRAPH
% logy = logx
%\fill[black!30] (4,4) rectangle (10,7);
\draw[thick,domain=0:4] plot (\x,{\x});
% compression region
\draw[thick,domain=4:8.5] plot (\x,{4+1/4*(\x - 4)});

% soft knee
\draw[thin, domain=2:6] plot(\x, {\x + (1/4-1)*((\x-2)^2)/(8)});



% LABELS
% threshold
\draw[dotted] (4,-1) -- (4,7);
\draw(4,-1.3) node{{\scriptsize $T$}};

\draw[dotted] (0,4) -- (10,4);

% Knee label
\draw[->](3, 4.8) -- (3.9, 4.1);
\draw(3,5) node{{\scriptsize Hard knee}};

\draw[->](5, 3.2) -- (4.3, 3.7);
\draw(5.2, 2.9) node{{\scriptsize Soft knee}};

% knee width
\draw[dotted] (2,-1) -- (2,2);
\draw[dotted] (6,-1) -- (6,4.5);

\draw[->](4, 1) -- (6, 1);
\draw(3.7, 1.2) node{{\scriptsize $W$}};
\draw[->](4, 1) -- (2, 1);

%Ratio
\draw(9.2,5.2) node{{$\frac{dY}{dX} = \frac{1}{R}$}};
\draw [decorate,decoration={brace,amplitude=4pt,mirror},xshift=2pt,yshift=0pt] (0,-0.95) -- (0,-0.05) node [black,midway,xshift=10pt] {\scriptsize M};

%Compression region
%\draw(8,6) node{Compression region};



\end{tikzpicture}
\end{document}